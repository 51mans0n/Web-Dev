{"ast":null,"code":"import { Album } from '../_models/album-model';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../_services/albums.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/forms\";\nconst _c0 = function (a1) {\n  return [\"/albums\", a1];\n};\nfunction AlbumsComponent_li_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"li\")(1, \"a\", 3);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"button\", 1);\n    i0.ɵɵlistener(\"click\", function AlbumsComponent_li_5_Template_button_click_3_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const album_r1 = restoredCtx.$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.deleteAlbum(album_r1.id));\n    });\n    i0.ɵɵtext(4, \"Delete\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(5, \"a\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const album_r1 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"title\", album_r1.title + \" details\")(\"routerLink\", i0.ɵɵpureFunction1(3, _c0, album_r1.id));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", album_r1.title, \" \");\n  }\n}\nexport class AlbumsComponent {\n  constructor(albumsService) {\n    this.albumsService = albumsService;\n    this.albums = [];\n    this.newAlbum = new Album();\n  }\n  ngOnInit() {\n    this.albumsService.getAlbums().subscribe(albums => {\n      this.albums = albums;\n    });\n  }\n  getAlbums() {\n    this.albumsService.getAlbums().subscribe(albums => {\n      this.albums = albums;\n    });\n  }\n  addAlbum() {\n    this.albumsService.addAlbum(this.newAlbum).subscribe(album => {\n      this.albums.unshift(album); // Он добавляет один или несколько элементов в начало массива и возвращает новую длину массива.\n      this.newAlbum = new Album();\n    });\n  }\n  updateAlbum(albumId, newTitle) {\n    const updatedAlbumIndex = this.albums.findIndex(album => album.id === albumId);\n    if (updatedAlbumIndex !== -1) {\n      this.albumsService.updateAlbum(albumId, newTitle).subscribe(updatedAlbum => {\n        this.albums[updatedAlbumIndex] = updatedAlbum;\n      });\n    }\n  }\n  deleteAlbum(albumId) {\n    this.albumsService.deleteAlbum(albumId).subscribe(() => {\n      this.albums = this.albums.filter(album => album.id !== albumId);\n    });\n  }\n  static #_ = this.ɵfac = function AlbumsComponent_Factory(t) {\n    return new (t || AlbumsComponent)(i0.ɵɵdirectiveInject(i1.AlbumsService));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: AlbumsComponent,\n    selectors: [[\"app-albums\"]],\n    decls: 6,\n    vars: 2,\n    consts: [[\"type\", \"text\", \"placeholder\", \"Album title\", 3, \"ngModel\", \"ngModelChange\"], [3, \"click\"], [4, \"ngFor\", \"ngForOf\"], [3, \"title\", \"routerLink\"]],\n    template: function AlbumsComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"fieldset\")(1, \"input\", 0);\n        i0.ɵɵlistener(\"ngModelChange\", function AlbumsComponent_Template_input_ngModelChange_1_listener($event) {\n          return ctx.newAlbum.title = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(2, \"button\", 1);\n        i0.ɵɵlistener(\"click\", function AlbumsComponent_Template_button_click_2_listener() {\n          return ctx.addAlbum();\n        });\n        i0.ɵɵtext(3, \"Add Album\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(4, \"ul\");\n        i0.ɵɵtemplate(5, AlbumsComponent_li_5_Template, 6, 5, \"li\", 2);\n        i0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngModel\", ctx.newAlbum.title);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngForOf\", ctx.albums);\n      }\n    },\n    dependencies: [i2.NgForOf, i3.RouterLink, i4.DefaultValueAccessor, i4.NgControlStatus, i4.NgModel],\n    styles: [\"fieldset[_ngcontent-%COMP%] {\\n    border: 1px solid #ccc;\\n    padding: 10px;\\n    margin-bottom: 20px;\\n  }\\n  \\n  input[type=\\\"text\\\"][_ngcontent-%COMP%] {\\n    width: 200px;\\n    padding: 5px;\\n    margin-right: 10px;\\n  }\\n  \\n  button[_ngcontent-%COMP%] {\\n    padding: 5px 10px;\\n    background-color: #333;\\n    color: white;\\n    border: none;\\n    cursor: pointer;\\n  }\\n  \\n  button[_ngcontent-%COMP%]:hover {\\n    background-color: #555;\\n  }\\n  \\n  ul[_ngcontent-%COMP%] {\\n    list-style-type: none;\\n    padding: 0;\\n  }\\n  \\n  li[_ngcontent-%COMP%] {\\n    border: 1px solid #ccc;\\n    padding: 10px;\\n    margin-bottom: 10px;\\n    display: flex;\\n    align-items: center;\\n    justify-content: space-between;\\n  }\\n  \\n  a[_ngcontent-%COMP%] {\\n    text-decoration: none;\\n    color: #333;\\n  }\\n  \\n  a[_ngcontent-%COMP%]:hover {\\n    text-decoration: underline;\\n  }\\n  \\n  li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] {\\n    margin-left: auto;\\n  }\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvYWxidW1zL2FsYnVtcy5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksc0JBQXNCO0lBQ3RCLGFBQWE7SUFDYixtQkFBbUI7RUFDckI7O0VBRUE7SUFDRSxZQUFZO0lBQ1osWUFBWTtJQUNaLGtCQUFrQjtFQUNwQjs7RUFFQTtJQUNFLGlCQUFpQjtJQUNqQixzQkFBc0I7SUFDdEIsWUFBWTtJQUNaLFlBQVk7SUFDWixlQUFlO0VBQ2pCOztFQUVBO0lBQ0Usc0JBQXNCO0VBQ3hCOztFQUVBO0lBQ0UscUJBQXFCO0lBQ3JCLFVBQVU7RUFDWjs7RUFFQTtJQUNFLHNCQUFzQjtJQUN0QixhQUFhO0lBQ2IsbUJBQW1CO0lBQ25CLGFBQWE7SUFDYixtQkFBbUI7SUFDbkIsOEJBQThCO0VBQ2hDOztFQUVBO0lBQ0UscUJBQXFCO0lBQ3JCLFdBQVc7RUFDYjs7RUFFQTtJQUNFLDBCQUEwQjtFQUM1Qjs7RUFFQTtJQUNFLGlCQUFpQjtFQUNuQiIsInNvdXJjZXNDb250ZW50IjpbImZpZWxkc2V0IHtcclxuICAgIGJvcmRlcjogMXB4IHNvbGlkICNjY2M7XHJcbiAgICBwYWRkaW5nOiAxMHB4O1xyXG4gICAgbWFyZ2luLWJvdHRvbTogMjBweDtcclxuICB9XHJcbiAgXHJcbiAgaW5wdXRbdHlwZT1cInRleHRcIl0ge1xyXG4gICAgd2lkdGg6IDIwMHB4O1xyXG4gICAgcGFkZGluZzogNXB4O1xyXG4gICAgbWFyZ2luLXJpZ2h0OiAxMHB4O1xyXG4gIH1cclxuICBcclxuICBidXR0b24ge1xyXG4gICAgcGFkZGluZzogNXB4IDEwcHg7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMzMzO1xyXG4gICAgY29sb3I6IHdoaXRlO1xyXG4gICAgYm9yZGVyOiBub25lO1xyXG4gICAgY3Vyc29yOiBwb2ludGVyO1xyXG4gIH1cclxuICBcclxuICBidXR0b246aG92ZXIge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzU1NTtcclxuICB9XHJcbiAgXHJcbiAgdWwge1xyXG4gICAgbGlzdC1zdHlsZS10eXBlOiBub25lO1xyXG4gICAgcGFkZGluZzogMDtcclxuICB9XHJcbiAgXHJcbiAgbGkge1xyXG4gICAgYm9yZGVyOiAxcHggc29saWQgI2NjYztcclxuICAgIHBhZGRpbmc6IDEwcHg7XHJcbiAgICBtYXJnaW4tYm90dG9tOiAxMHB4O1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XHJcbiAgfVxyXG4gIFxyXG4gIGEge1xyXG4gICAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xyXG4gICAgY29sb3I6ICMzMzM7XHJcbiAgfVxyXG4gIFxyXG4gIGE6aG92ZXIge1xyXG4gICAgdGV4dC1kZWNvcmF0aW9uOiB1bmRlcmxpbmU7XHJcbiAgfVxyXG4gIFxyXG4gIGxpIGJ1dHRvbiB7XHJcbiAgICBtYXJnaW4tbGVmdDogYXV0bztcclxuICB9Il0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n  });\n}","map":{"version":3,"names":["Album","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵlistener","AlbumsComponent_li_5_Template_button_click_3_listener","restoredCtx","ɵɵrestoreView","_r3","album_r1","$implicit","ctx_r2","ɵɵnextContext","ɵɵresetView","deleteAlbum","id","ɵɵelement","ɵɵadvance","ɵɵproperty","title","ɵɵpureFunction1","_c0","ɵɵtextInterpolate1","AlbumsComponent","constructor","albumsService","albums","newAlbum","ngOnInit","getAlbums","subscribe","addAlbum","album","unshift","updateAlbum","albumId","newTitle","updatedAlbumIndex","findIndex","updatedAlbum","filter","_","ɵɵdirectiveInject","i1","AlbumsService","_2","selectors","decls","vars","consts","template","AlbumsComponent_Template","rf","ctx","AlbumsComponent_Template_input_ngModelChange_1_listener","$event","AlbumsComponent_Template_button_click_2_listener","ɵɵtemplate","AlbumsComponent_li_5_Template"],"sources":["C:\\Users\\Simso\\Documents\\MyProjects\\Web-Dev\\Lab6\\src\\app\\albums\\albums.component.ts","C:\\Users\\Simso\\Documents\\MyProjects\\Web-Dev\\Lab6\\src\\app\\albums\\albums.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { Album } from '../_models/album-model';\r\nimport { AlbumsService } from '../_services/albums.service';\r\n\r\n@Component({\r\n  selector: 'app-albums',\r\n  templateUrl: './albums.component.html',\r\n  styleUrls: ['./albums.component.css']\r\n})\r\nexport class AlbumsComponent implements OnInit {\r\n  albums: Album[];\r\n  newAlbum: Album;\r\n\r\n  constructor(private albumsService: AlbumsService) {\r\n    this.albums = [];\r\n    this.newAlbum = new Album();\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.albumsService.getAlbums().subscribe((albums) => { //  Это метод из библиотеки RxJS, который используется в Angular для обработки асинхронных потоков данных, таких как HTTP-запросы.\r\n      this.albums = albums;\r\n    });\r\n  }\r\n\r\n  getAlbums(): void {\r\n    this.albumsService.getAlbums().subscribe((albums) => {\r\n      this.albums = albums;\r\n    });\r\n  }\r\n\r\n  addAlbum(): void {\r\n    this.albumsService.addAlbum(this.newAlbum).subscribe((album) => {\r\n      this.albums.unshift(album); // Он добавляет один или несколько элементов в начало массива и возвращает новую длину массива.\r\n      this.newAlbum = new Album();\r\n    });\r\n  }\r\n\r\n  updateAlbum(albumId: number, newTitle: string): void {\r\n    const updatedAlbumIndex = this.albums.findIndex(album => album.id === albumId);\r\n    if (updatedAlbumIndex !== -1) {\r\n      this.albumsService.updateAlbum(albumId, newTitle).subscribe(updatedAlbum => {\r\n        this.albums[updatedAlbumIndex] = updatedAlbum;\r\n      });\r\n    }\r\n  }\r\n\r\n  deleteAlbum(albumId: number): void {\r\n    this.albumsService.deleteAlbum(albumId).subscribe(() => {\r\n      this.albums = this.albums.filter(album => album.id !== albumId);\r\n    });\r\n  }\r\n\r\n}\r\n","<fieldset>\r\n    <input type=\"text\" placeholder=\"Album title\" [(ngModel)]=\"newAlbum.title\">\r\n    <button (click)=\"addAlbum()\">Add Album</button>\r\n  </fieldset>\r\n  \r\n  <ul>\r\n    <li *ngFor=\"let album of albums\">\r\n      <a [title]=\"album.title + ' details'\" [routerLink]=\"['/albums', album.id]\">\r\n        {{album.title}}\r\n    </a>\r\n      <button (click)=\"deleteAlbum(album.id)\">Delete</button>\r\n      <a ></a>\r\n    </li>\r\n  </ul>\r\n  "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}